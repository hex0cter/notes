(this["webpackJsonplocal-notes"]=this["webpackJsonplocal-notes"]||[]).push([[0],{105:function(e,t,n){e.exports=n(163)},110:function(e,t,n){},111:function(e,t,n){},116:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(2),c=n.n(o),i=(n(110),n(6)),l=n(7),s=n(10),u=n(8),d=n(11),p=(n(111),n(13));function O(e){return{type:"ACTION_UPDATE_ACTIVE_INDEX",payload:e}}var b=function(e){return{onUpdateContent:function(t){return e({type:"ACTION_UPDATE_CONTENT",payload:t})},onCloseSidebar:function(){return e({type:"ACTION_CLOSE_SIDEBAR"})}}},v=function(e){return{content:e.notes[e.activeIndex].content}},f=(n(116),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=e.target.value;n.props.onUpdateContent(t)},n.onClick=function(){n.props.onCloseSidebar()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("textarea",{value:this.props.content,autoFocus:!0,id:"textarea",style:{width:this.props.width,height:this.props.height},onChange:this.onChange,onClick:this.onClick,placeholder:"Please write here..."})}}]),t}(a.Component)),N=Object(p.b)(v,b)(f),h=n(36),_=n.n(h),E=function(e){return{onUpdateSidebarOpen:function(t){return e({type:"ACTION_UPDATE_SIDEBAR_OPEN",payload:t})}}},m=function(e){return{isSidebarOpen:e.isSidebarOpen}},j=function(e){return{onUpdateActiveIndex:function(t){return e(O(t))}}},A=function(e){return console.log("state",e),{activeIndex:e.activeIndex,notes:e.notes}},I=function(e){return{onUpdateActiveIndex:function(t){return e(O(t))},onDeleteNote:function(t){return e(function(e){return{type:"ACTION_DELETE_NOTE",payload:e}}(t))}}},y=function(e){return console.log("state",e),{activeIndex:e.activeIndex}},S=n(40),w=n.n(S),C=n(16),g=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).updateActiveIndex=function(e){console.log("onUpdateActiveIndex"),n.props.onUpdateActiveIndex(n.props.currentIndex),window.document.getElementById("textarea").focus(),e.preventDefault()},n.deleteNote=function(e){n.props.onDeleteNote(n.props.currentIndex),e.preventDefault()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.currentIndex===this.props.activeIndex?w.a.NotePreviewActive:w.a.NotePreview;return r.a.createElement("div",{className:e},r.a.createElement("div",{className:w.a.PreviewText,onClick:this.updateActiveIndex},this.props.currentNote.content),r.a.createElement("div",{className:w.a.DeleteButton,onClick:this.deleteNote},r.a.createElement(C.a,{type:"delete"})))}}]),t}(r.a.Component),D=Object(p.b)(y,I)(g),T=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.notes.map((function(e,t){return r.a.createElement(D,{key:t,currentIndex:t,currentNote:e})})))}}]),t}(r.a.Component),x=Object(p.b)(A,j)(T),k=function(e){return{onAddNewNote:function(){return e({type:"ACTION_ADD_NEW_NOTE"})}}},P=n(93),U=n.n(P),B=n(39),L=(n(66),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:U.a.AddNewNote,onClick:this.props.onAddNewNote},r.a.createElement(B.a,{ghost:!0},r.a.createElement(C.a,{type:"plus"}),"Add new"))}}]),t}(r.a.Component)),J=Object(p.b)(null,k)(L),W=function(e){return{onDeleteAllNotes:function(){return e({type:"ACTION_DELETE_ALL_NOTES"})}}},R=n(95),F=n.n(R),V=n(164).a.confirm,H=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).deleteAll=function(){var e=n.props.onDeleteAllNotes;V({title:"Are you sure to delete all the notes?",onOk:function(){e()},onCancel:function(){}})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:F.a.DeleteAllNotes,onClick:this.deleteAll},r.a.createElement(B.a,{ghost:!0,type:"danger"},r.a.createElement(C.a,{type:"delete"}),"Delete all"))}}]),t}(r.a.Component),X=Object(p.b)(null,W)(H),z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={fontSize:"x-large"};return this.props.isSidebarOpen?t.color="white":t.color="grey",r.a.createElement("div",{className:this.props.isSidebarOpen?_.a.SiderbarOpen:_.a.Siderbar},r.a.createElement("div",{className:_.a.Burger},r.a.createElement(C.a,{type:"menu",style:t,onClick:function(){e.props.onUpdateSidebarOpen()}})),this.props.isSidebarOpen?r.a.createElement("div",{className:_.a.List},r.a.createElement(J,null),r.a.createElement(x,null),r.a.createElement(X,null),r.a.createElement("div",{className:_.a.Footer},r.a.createElement("a",{href:"https://danielhan.dev"},"Daniel Han \xa9"))):null)}}]),t}(a.Component),q=Object(p.b)(m,E)(z),G=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(q,null))}}]),t}(a.Component),Q=n(47),$=n(15),K=n(50),M={lastUpdate:Date.now(),content:""},Y=JSON.parse(localStorage.getItem("local-notes")||JSON.stringify({notes:[M]})),Z={activeIndex:Y.activeIndex||0,notes:Y.notes,isSidebarOpen:!1};function ee(e,t){var n=Object(K.a)(e.notes);n[e.activeIndex]={content:t,lastUpdate:Date.now()};var a=Object($.a)({},e,{notes:n});return localStorage.setItem("local-notes",JSON.stringify(a)),a}function te(e,t){var n,a=Object($.a)({},e),r=a.activeIndex,o=Object(K.a)(a.notes);if(t>r)o.splice(t,1),n=Object($.a)({},a,{notes:o});else if(t<r){o.splice(t,1);var c=r-1;n=Object($.a)({},a,{notes:o,activeIndex:c})}else if(t===r)if(0===r)if(a.notes.length>1)o.splice(t,1),n=Object($.a)({},a,{notes:o});else{var i=[{content:"",lastUpdate:Date.now()}];n=Object($.a)({},a,{notes:i,activeIndex:0})}else{o.splice(t,1);var l=r-1;n=Object($.a)({},a,{notes:o,activeIndex:l})}return localStorage.setItem("local-notes",JSON.stringify(n)),n}var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_UPDATE_CONTENT":return ee(e,t.payload);case"ACTION_UPDATE_SIDEBAR_OPEN":return Object($.a)({},e,{isSidebarOpen:!e.isSidebarOpen});case"ACTION_CLOSE_SIDEBAR":return Object($.a)({},e,{isSidebarOpen:!1});case"ACTION_ADD_NEW_NOTE":var n={content:"",lastUpdate:Date.now()},a=[n].concat(Object(K.a)(e.notes)),r=0;return Object($.a)({},e,{activeIndex:r,notes:a});case"ACTION_DELETE_NOTE":return te(e,t.payload);case"ACTION_DELETE_ALL_NOTES":var o={content:"",lastUpdate:Date.now()},c=[o],i=0;return Object($.a)({},e,{activeIndex:i,notes:c});case"ACTION_UPDATE_ACTIVE_INDEX":var l=t.payload,s=window.innerWidth>375&&e.isSidebarOpen,u=Object($.a)({},e,{activeIndex:l,isSidebarOpen:s});return localStorage.setItem("local-notes",JSON.stringify(u)),u;default:return console.log("Action type",t.type),e}},ae=Object(Q.b)(ne),re=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:ae},r.a.createElement(G,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},36:function(e,t,n){e.exports={Burger:"Siderbar_Burger__S8cVP",Siderbar:"Siderbar_Siderbar__1QRRz",SiderbarOpen:"Siderbar_SiderbarOpen__34Bd2",openSiderBar:"Siderbar_openSiderBar__1S9aV",List:"Siderbar_List__2Wq4J",Hamburger:"Siderbar_Hamburger__1OuTw",Footer:"Siderbar_Footer__3GUm-"}},40:function(e,t,n){e.exports={NotePreview:"NotePreview_NotePreview__1gjX_",NotePreviewActive:"NotePreview_NotePreviewActive__322s9",PreviewText:"NotePreview_PreviewText__1r9P1",DeleteButton:"NotePreview_DeleteButton__2CtWb"}},93:function(e,t,n){e.exports={AddNewNote:"AddNewNote_AddNewNote__1idek"}},95:function(e,t,n){e.exports={DeleteAllNotes:"DeleteAllNotes_DeleteAllNotes__2mnxk"}}},[[105,1,2]]]);
//# sourceMappingURL=main.3937bffa.chunk.js.map